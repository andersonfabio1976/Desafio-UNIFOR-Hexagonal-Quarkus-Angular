{"ast":null,"code":"import _asyncToGenerator from \"C:/DevTools/Projects/UNIFOR/Desafio-UNIFOR-Hexagonal-Quarkus-Angular/frontend/unifor-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { APP_INITIALIZER } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { LayoutModule } from './core/layout/layout.module';\nimport { KeycloakAngularModule, KeycloakService } from 'keycloak-angular';\nimport { environment } from '../environments/environment';\nimport { TokenInterceptor } from './core/auth/token.interceptor';\nimport { AcessoNegadoComponent } from './shared/acesso-negado/acesso-negado.component';\nimport { CursosComponent } from './features/cursos/cursos.component';\nimport { SemestresComponent } from './features/semestres/semestres.component';\nimport { DisciplinasComponent } from './features/disciplinas/disciplinas.component';\nimport * as i0 from \"@angular/core\";\n/**\r\n * ✅ Função de inicialização do Keycloak\r\n * Ela é chamada automaticamente antes do app iniciar.\r\n */\nfunction initializeKeycloak(keycloak) {\n  return /*#__PURE__*/_asyncToGenerator(function* () {\n    try {\n      yield keycloak.init({\n        config: {\n          url: environment.keycloak.url,\n          realm: environment.keycloak.realm,\n          clientId: environment.keycloak.clientId\n        },\n        initOptions: {\n          onLoad: 'login-required',\n          checkLoginIframe: false\n        }\n      });\n      console.log('✅ Keycloak inicializado com sucesso!');\n    } catch (error) {\n      console.error('❌ Falha ao inicializar o Keycloak:', error);\n    }\n  });\n}\nexport class AppModule {\n  static {\n    this.ɵfac = function AppModule_Factory(t) {\n      return new (t || AppModule)();\n    };\n  }\n  static {\n    this.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n      type: AppModule,\n      bootstrap: [AppComponent]\n    });\n  }\n  static {\n    this.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n      providers: [{\n        provide: APP_INITIALIZER,\n        useFactory: initializeKeycloak,\n        multi: true,\n        deps: [KeycloakService]\n      }, {\n        provide: HTTP_INTERCEPTORS,\n        useClass: TokenInterceptor,\n        multi: true\n      }],\n      imports: [BrowserModule, BrowserAnimationsModule, HttpClientModule, KeycloakAngularModule, LayoutModule, AppRoutingModule]\n    });\n  }\n}\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(AppModule, {\n    declarations: [AppComponent, AcessoNegadoComponent, CursosComponent, SemestresComponent, DisciplinasComponent],\n    imports: [BrowserModule, BrowserAnimationsModule, HttpClientModule, KeycloakAngularModule, LayoutModule, AppRoutingModule]\n  });\n})();","map":{"version":3,"mappings":";AAAA,SAAmBA,eAAe,QAAQ,eAAe;AACzD,SAASC,aAAa,QAAQ,2BAA2B;AACzD,SAASC,uBAAuB,QAAQ,sCAAsC;AAC9E,SAASC,gBAAgB,EAAEC,iBAAiB,QAAQ,sBAAsB;AAC1E,SAASC,gBAAgB,QAAQ,sBAAsB;AACvD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAQ,6BAA6B;AAC1D,SAASC,qBAAqB,EAAEC,eAAe,QAAQ,kBAAkB;AACzE,SAASC,WAAW,QAAQ,6BAA6B;AACzD,SAASC,gBAAgB,QAAQ,+BAA+B;AAChE,SAASC,qBAAqB,QAAQ,gDAAgD;AACtF,SAASC,eAAe,QAAQ,oCAAoC;AACpE,SAASC,kBAAkB,QAAQ,0CAA0C;AAC7E,SAASC,oBAAoB,QAAQ,8CAA8C;;AAEnF;;;;AAIA,SAASC,kBAAkB,CAACC,QAAyB;EACnD,sCAAO,aAAW;IAChB,IAAI;MACF,MAAMA,QAAQ,CAACC,IAAI,CAAC;QAClBC,MAAM,EAAE;UACNC,GAAG,EAAEV,WAAW,CAACO,QAAQ,CAACG,GAAG;UAC7BC,KAAK,EAAEX,WAAW,CAACO,QAAQ,CAACI,KAAK;UACjCC,QAAQ,EAAEZ,WAAW,CAACO,QAAQ,CAACK;SAChC;QACDC,WAAW,EAAE;UACXC,MAAM,EAAE,gBAAgB;UACxBC,gBAAgB,EAAE;;OAErB,CAAC;MACFC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;KACpD,CAAC,OAAOC,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;;EAE9D,CAAC;AACH;AAuBA,OAAM,MAAOC,SAAS;;;uBAATA,SAAS;IAAA;EAAA;;;YAATA,SAAS;MAAAC,YAFRxB,YAAY;IAAA;EAAA;;;iBATb,CACT;QACEyB,OAAO,EAAE/B,eAAe;QACxBgC,UAAU,EAAEhB,kBAAkB;QAC9BiB,KAAK,EAAE,IAAI;QACXC,IAAI,EAAE,CAACzB,eAAe;OACvB,EACD;QAAEsB,OAAO,EAAE3B,iBAAiB;QAAE+B,QAAQ,EAAExB,gBAAgB;QAAEsB,KAAK,EAAE;MAAI,CAAE,CACxE;MAAAG,UAfCnC,aAAa,EACbC,uBAAuB,EACvBC,gBAAgB,EAChBK,qBAAqB,EACrBD,YAAY,EACZF,gBAAgB;IAAA;EAAA;;;2EAaPwB,SAAS;IAAAQ,eApBL/B,YAAY,EAAEM,qBAAqB,EAAEC,eAAe,EAAEC,kBAAkB,EAAEC,oBAAoB;IAAAqB,UAE3GnC,aAAa,EACbC,uBAAuB,EACvBC,gBAAgB,EAChBK,qBAAqB,EACrBD,YAAY,EACZF,gBAAgB;EAAA;AAAA","names":["APP_INITIALIZER","BrowserModule","BrowserAnimationsModule","HttpClientModule","HTTP_INTERCEPTORS","AppRoutingModule","AppComponent","LayoutModule","KeycloakAngularModule","KeycloakService","environment","TokenInterceptor","AcessoNegadoComponent","CursosComponent","SemestresComponent","DisciplinasComponent","initializeKeycloak","keycloak","init","config","url","realm","clientId","initOptions","onLoad","checkLoginIframe","console","log","error","AppModule","bootstrap","provide","useFactory","multi","deps","useClass","imports","declarations"],"sourceRoot":"","sources":["C:\\DevTools\\Projects\\UNIFOR\\Desafio-UNIFOR-Hexagonal-Quarkus-Angular\\frontend\\unifor-frontend\\src\\app\\app.module.ts"],"sourcesContent":["import { NgModule, APP_INITIALIZER } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { LayoutModule } from './core/layout/layout.module';\nimport { KeycloakAngularModule, KeycloakService } from 'keycloak-angular';\nimport { environment } from '../environments/environment';\nimport { TokenInterceptor } from './core/auth/token.interceptor';\nimport { AcessoNegadoComponent } from './shared/acesso-negado/acesso-negado.component';\nimport { CursosComponent } from './features/cursos/cursos.component';\nimport { SemestresComponent } from './features/semestres/semestres.component';\nimport { DisciplinasComponent } from './features/disciplinas/disciplinas.component';\n\n/**\n * ✅ Função de inicialização do Keycloak\n * Ela é chamada automaticamente antes do app iniciar.\n */\nfunction initializeKeycloak(keycloak: KeycloakService) {\n  return async () => {\n    try {\n      await keycloak.init({\n        config: {\n          url: environment.keycloak.url,\n          realm: environment.keycloak.realm,\n          clientId: environment.keycloak.clientId,\n        },\n        initOptions: {\n          onLoad: 'login-required',\n          checkLoginIframe: false,\n        },\n      });\n      console.log('✅ Keycloak inicializado com sucesso!');\n    } catch (error) {\n      console.error('❌ Falha ao inicializar o Keycloak:', error);\n    }\n  };\n}\n\n@NgModule({\n  declarations: [AppComponent, AcessoNegadoComponent, CursosComponent, SemestresComponent, DisciplinasComponent],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    KeycloakAngularModule,\n    LayoutModule,\n    AppRoutingModule,\n  ],\n  providers: [\n    {\n      provide: APP_INITIALIZER,\n      useFactory: initializeKeycloak,\n      multi: true,\n      deps: [KeycloakService],\n    },\n    { provide: HTTP_INTERCEPTORS, useClass: TokenInterceptor, multi: true },\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}