{"ast":null,"code":"import _asyncToGenerator from \"C:/DevTools/Projects/UNIFOR/Desafio-UNIFOR-Hexagonal-Quarkus-Angular/frontend/unifor-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"keycloak-angular\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/sidenav\";\nimport * as i5 from \"@angular/material/list\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/toolbar\";\nfunction LayoutComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 8)(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"school\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Cursos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 9)(6, \"mat-icon\");\n    i0.ɵɵtext(7, \"calendar_month\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \" Semestres\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 10)(10, \"mat-icon\");\n    i0.ɵɵtext(11, \"menu_book\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \" Disciplinas\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction LayoutComponent_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 11)(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"admin_panel_settings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Administra\\u00E7\\u00E3o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction LayoutComponent_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 12)(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"assignment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Matriz Curricular\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nexport class LayoutComponent {\n  constructor(keycloakService) {\n    this.keycloakService = keycloakService;\n    this.userName = '';\n    this.roles = [];\n    // flags de perfil\n    this.isAdmin = false;\n    this.isCoordenador = false;\n    this.isProfessor = false;\n    this.isAluno = false;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const profile = yield _this.keycloakService.loadUserProfile();\n        _this.userName = profile.firstName ?? 'Usuário';\n        _this.roles = _this.keycloakService.getUserRoles();\n        // define flags de acesso\n        _this.isAdmin = _this.roles.includes('ADMIN');\n        _this.isCoordenador = _this.roles.includes('COORDENADOR');\n        _this.isProfessor = _this.roles.includes('PROFESSOR');\n        _this.isAluno = _this.roles.includes('ALUNO');\n      } catch (error) {\n        console.error('Erro ao carregar perfil do usuário:', error);\n      }\n    })();\n  }\n  logout() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this2.keycloakService.logout(window.location.origin);\n      } catch (error) {\n        console.error('Erro ao sair:', error);\n      }\n    })();\n  }\n  static {\n    this.ɵfac = function LayoutComponent_Factory(t) {\n      return new (t || LayoutComponent)(i0.ɵɵdirectiveInject(i1.KeycloakService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LayoutComponent,\n      selectors: [[\"app-layout\"]],\n      decls: 19,\n      vars: 3,\n      consts: [[\"color\", \"primary\", 1, \"app-toolbar\"], [1, \"spacer\"], [\"mat-icon-button\", \"\", 3, \"click\"], [1, \"app-container\"], [\"mode\", \"side\", \"opened\", \"\"], [\"mat-list-item\", \"\", \"routerLink\", \"/\"], [4, \"ngIf\"], [1, \"content\"], [\"mat-list-item\", \"\", \"routerLink\", \"/cursos\"], [\"mat-list-item\", \"\", \"routerLink\", \"/semestres\"], [\"mat-list-item\", \"\", \"routerLink\", \"/disciplinas\"], [\"mat-list-item\", \"\", \"routerLink\", \"/admin\"], [\"mat-list-item\", \"\", \"routerLink\", \"/matriz\"]],\n      template: function LayoutComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"mat-toolbar\", 0)(1, \"span\");\n          i0.ɵɵtext(2, \"\\uD83C\\uDF93 UNIFOR\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(3, \"span\", 1);\n          i0.ɵɵelementStart(4, \"button\", 2);\n          i0.ɵɵlistener(\"click\", function LayoutComponent_Template_button_click_4_listener() {\n            return ctx.logout();\n          });\n          i0.ɵɵelementStart(5, \"mat-icon\");\n          i0.ɵɵtext(6, \"logout\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(7, \"mat-sidenav-container\", 3)(8, \"mat-sidenav\", 4)(9, \"mat-nav-list\")(10, \"a\", 5)(11, \"mat-icon\");\n          i0.ɵɵtext(12, \"home\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(13, \" Home \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(14, LayoutComponent_ng_container_14_Template, 13, 0, \"ng-container\", 6);\n          i0.ɵɵtemplate(15, LayoutComponent_ng_container_15_Template, 5, 0, \"ng-container\", 6);\n          i0.ɵɵtemplate(16, LayoutComponent_ng_container_16_Template, 5, 0, \"ng-container\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"mat-sidenav-content\", 7);\n          i0.ɵɵelement(18, \"router-outlet\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"ngIf\", ctx.isCoordenador);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isAluno || ctx.isProfessor);\n        }\n      },\n      dependencies: [i2.NgIf, i3.RouterOutlet, i3.RouterLink, i4.MatSidenav, i4.MatSidenavContainer, i4.MatSidenavContent, i5.MatNavList, i5.MatListItem, i6.MatIconButton, i7.MatIcon, i8.MatToolbar],\n      styles: [\".app-container[_ngcontent-%COMP%] {\\n  height: 100vh;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.app-toolbar[_ngcontent-%COMP%] {\\n  position: sticky;\\n  top: 0;\\n  z-index: 1000;\\n}\\n\\n.sidenav-container[_ngcontent-%COMP%] {\\n  flex: 1;\\n  display: flex;\\n  height: 100%;\\n}\\n\\n.app-sidenav[_ngcontent-%COMP%] {\\n  width: 240px;\\n  background: #f5f5f5;\\n  border-right: 1px solid #e0e0e0;\\n}\\n\\n.menu-button[_ngcontent-%COMP%] {\\n  margin-right: 8px;\\n}\\n\\n.toolbar-title[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  font-size: 18px;\\n}\\n\\n.spacer[_ngcontent-%COMP%] {\\n  flex: 1 1 auto;\\n}\\n\\n.main-content[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  background-color: #fafafa;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29yZS9sYXlvdXQvbGF5b3V0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDQSxNQUFBO0VBQ0EsYUFBQTtBQUNGOztBQUVBO0VBQ0UsT0FBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSwrQkFBQTtBQUNGOztBQUVBO0VBQ0UsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLHlCQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuYXBwLWNvbnRhaW5lciB7XHJcbiAgaGVpZ2h0OiAxMDB2aDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbi5hcHAtdG9vbGJhciB7XHJcbiAgcG9zaXRpb246IHN0aWNreTtcclxuICB0b3A6IDA7XHJcbiAgei1pbmRleDogMTAwMDtcclxufVxyXG5cclxuLnNpZGVuYXYtY29udGFpbmVyIHtcclxuICBmbGV4OiAxO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4uYXBwLXNpZGVuYXYge1xyXG4gIHdpZHRoOiAyNDBweDtcclxuICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xyXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlMGUwZTA7XHJcbn1cclxuXHJcbi5tZW51LWJ1dHRvbiB7XHJcbiAgbWFyZ2luLXJpZ2h0OiA4cHg7XHJcbn1cclxuXHJcbi50b29sYmFyLXRpdGxlIHtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGZvbnQtc2l6ZTogMThweDtcclxufVxyXG5cclxuLnNwYWNlciB7XHJcbiAgZmxleDogMSAxIGF1dG87XHJcbn1cclxuXHJcbi5tYWluLWNvbnRlbnQge1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;;;;;;;IAeMA,6BAAoC;IAClCA,4BAAsC;IAAUA,sBAAM;IAAAA,iBAAW;IAACA,uBAAM;IAAAA,iBAAI;IAC5EA,4BAAyC;IAAUA,8BAAc;IAAAA,iBAAW;IAACA,0BAAS;IAAAA,iBAAI;IAC1FA,6BAA2C;IAAUA,0BAAS;IAAAA,iBAAW;IAACA,6BAAW;IAAAA,iBAAI;IAC3FA,0BAAe;;;;;IAEfA,6BAA8B;IAC5BA,6BAAqC;IAAUA,oCAAoB;IAAAA,iBAAW;IAACA,wCAAa;IAAAA,iBAAI;IAClGA,0BAAe;;;;;IAEfA,6BAA6C;IAC3CA,6BAAsC;IAAUA,0BAAU;IAAAA,iBAAW;IAACA,kCAAiB;IAAAA,iBAAI;IAC7FA,0BAAe;;;ACnBrB,OAAM,MAAOC,eAAe;EAU1BC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;IATnC,aAAQ,GAAW,EAAE;IACrB,UAAK,GAAa,EAAE;IAEpB;IACA,YAAO,GAAG,KAAK;IACf,kBAAa,GAAG,KAAK;IACrB,gBAAW,GAAG,KAAK;IACnB,YAAO,GAAG,KAAK;EAEwC;EAEjDC,QAAQ;IAAA;IAAA;MACZ,IAAI;QACF,MAAMC,OAAO,SAAS,KAAI,CAACF,eAAe,CAACG,eAAe,EAAE;QAC5D,KAAI,CAACC,QAAQ,GAAGF,OAAO,CAACG,SAAS,IAAI,SAAS;QAE9C,KAAI,CAACC,KAAK,GAAG,KAAI,CAACN,eAAe,CAACO,YAAY,EAAE;QAEhD;QACA,KAAI,CAACC,OAAO,GAAG,KAAI,CAACF,KAAK,CAACG,QAAQ,CAAC,OAAO,CAAC;QAC3C,KAAI,CAACC,aAAa,GAAG,KAAI,CAACJ,KAAK,CAACG,QAAQ,CAAC,aAAa,CAAC;QACvD,KAAI,CAACE,WAAW,GAAG,KAAI,CAACL,KAAK,CAACG,QAAQ,CAAC,WAAW,CAAC;QACnD,KAAI,CAACG,OAAO,GAAG,KAAI,CAACN,KAAK,CAACG,QAAQ,CAAC,OAAO,CAAC;OAC5C,CAAC,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;;IAC5D;EACH;EAEME,MAAM;IAAA;IAAA;MACV,IAAI;QACF,MAAM,MAAI,CAACf,eAAe,CAACe,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;OAC1D,CAAC,OAAOL,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;;IACtC;EACH;;;uBAnCWf,eAAe;IAAA;EAAA;;;YAAfA,eAAe;MAAAqB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDR5B1B,sCAAiD;UACzCA,mCAAS;UAAAA,iBAAO;UACtBA,0BAA4B;UAC5BA,iCAA2C;UAAnBA;YAAA,OAAS2B,YAAQ;UAAA,EAAC;UACxC3B,gCAAU;UAAAA,sBAAM;UAAAA,iBAAW;UAI/BA,gDAA6C;UAI3BA,qBAAI;UAAAA,iBAAW;UAACA,uBAC5B;UAAAA,iBAAI;UAEJA,qFAIe;UAEfA,oFAEe;UAEfA,oFAEe;UACjBA,iBAAe;UAGjBA,+CAAqC;UACnCA,iCAA+B;UACjCA,iBAAsB;;;UAlBHA,gBAAmB;UAAnBA,wCAAmB;UAMnBA,eAAa;UAAbA,kCAAa;UAIbA,eAA4B;UAA5BA,qDAA4B","names":["i0","LayoutComponent","constructor","keycloakService","ngOnInit","profile","loadUserProfile","userName","firstName","roles","getUserRoles","isAdmin","includes","isCoordenador","isProfessor","isAluno","error","console","logout","window","location","origin","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\DevTools\\Projects\\UNIFOR\\Desafio-UNIFOR-Hexagonal-Quarkus-Angular\\frontend\\unifor-frontend\\src\\app\\core\\layout\\layout.component.html","C:\\DevTools\\Projects\\UNIFOR\\Desafio-UNIFOR-Hexagonal-Quarkus-Angular\\frontend\\unifor-frontend\\src\\app\\core\\layout\\layout.component.ts"],"sourcesContent":["<mat-toolbar color=\"primary\" class=\"app-toolbar\">\r\n  <span>🎓 UNIFOR</span>\r\n  <span class=\"spacer\"></span>\r\n  <button mat-icon-button (click)=\"logout()\">\r\n    <mat-icon>logout</mat-icon>\r\n  </button>\r\n</mat-toolbar>\r\n\r\n<mat-sidenav-container class=\"app-container\">\r\n  <mat-sidenav mode=\"side\" opened>\r\n    <mat-nav-list>\r\n      <a mat-list-item routerLink=\"/\">\r\n        <mat-icon>home</mat-icon> Home\r\n      </a>\r\n\r\n      <ng-container *ngIf=\"isCoordenador\">\r\n        <a mat-list-item routerLink=\"/cursos\"><mat-icon>school</mat-icon> Cursos</a>\r\n        <a mat-list-item routerLink=\"/semestres\"><mat-icon>calendar_month</mat-icon> Semestres</a>\r\n        <a mat-list-item routerLink=\"/disciplinas\"><mat-icon>menu_book</mat-icon> Disciplinas</a>\r\n      </ng-container>\r\n\r\n      <ng-container *ngIf=\"isAdmin\">\r\n        <a mat-list-item routerLink=\"/admin\"><mat-icon>admin_panel_settings</mat-icon> Administração</a>\r\n      </ng-container>\r\n\r\n      <ng-container *ngIf=\"isAluno || isProfessor\">\r\n        <a mat-list-item routerLink=\"/matriz\"><mat-icon>assignment</mat-icon> Matriz Curricular</a>\r\n      </ng-container>\r\n    </mat-nav-list>\r\n  </mat-sidenav>\r\n\r\n  <mat-sidenav-content class=\"content\">\r\n    <router-outlet></router-outlet>\r\n  </mat-sidenav-content>\r\n</mat-sidenav-container>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { KeycloakService } from 'keycloak-angular';\r\n\r\n@Component({\r\n  selector: 'app-layout',\r\n  templateUrl: './layout.component.html',\r\n  styleUrls: ['./layout.component.scss'],\r\n})\r\nexport class LayoutComponent implements OnInit {\r\n  userName: string = '';\r\n  roles: string[] = [];\r\n\r\n  // flags de perfil\r\n  isAdmin = false;\r\n  isCoordenador = false;\r\n  isProfessor = false;\r\n  isAluno = false;\r\n\r\n  constructor(private keycloakService: KeycloakService) {}\r\n\r\n  async ngOnInit() {\r\n    try {\r\n      const profile = await this.keycloakService.loadUserProfile();\r\n      this.userName = profile.firstName ?? 'Usuário';\r\n\r\n      this.roles = this.keycloakService.getUserRoles();\r\n\r\n      // define flags de acesso\r\n      this.isAdmin = this.roles.includes('ADMIN');\r\n      this.isCoordenador = this.roles.includes('COORDENADOR');\r\n      this.isProfessor = this.roles.includes('PROFESSOR');\r\n      this.isAluno = this.roles.includes('ALUNO');\r\n    } catch (error) {\r\n      console.error('Erro ao carregar perfil do usuário:', error);\r\n    }\r\n  }\r\n\r\n  async logout() {\r\n    try {\r\n      await this.keycloakService.logout(window.location.origin);\r\n    } catch (error) {\r\n      console.error('Erro ao sair:', error);\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}